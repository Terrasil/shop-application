(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),i=a.n(r),c=a(35),o=a(70),s=a(167),u=a(17),m=a(18),d=a(24),h=a(23),p=a(25),b=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){document.title="Patryk Morawski 185IC A1 - Oferty"}},{key:"render",value:function(){return l.a.createElement("header",{class:"shadow"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"name"},l.a.createElement("h1",null,"OFERTY"),l.a.createElement("h5",null,"Internetowa tablica ogloszen"))))}}]),t}(l.a.Component),g=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("footer",null,"Copyright \xa9 Patryk Morawski 2022")}}]),t}(l.a.Component);l.a.Component,l.a.Component;function f(e){return l.a.createElement("div",null,l.a.createElement("h5",null,e.informacje.title),l.a.createElement("span",null,e.informacje.description),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",null,l.a.createElement("b",null,e.informacje.price," ",e.informacje.currency)))}var E=a(11),v=a(159),y=a(165),j=a(168),T=a(166),O=a(163),C=a(164),k=a(34),w=a(5),N=function(e){return l.a.createElement("div",{className:"py-4 buttons fadein"},l.a.createElement("div",{className:"button"},l.a.createElement("label",{htmlFor:"single"}),l.a.createElement("input",{type:"file",id:"single",onChange:e.onChange})))},S=a(38),P=a.n(S),x=P.a.create({baseURL:"http://127.0.0.1:8000/api",headers:{"content-type":"multipart/form-data"}}),D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){console.log(a.state.file);var t=Array.from(e.target.files);a.setState({upload:t[0],image:URL.createObjectURL(e.target.files[0])})},a.onChangeTitle=a.onChangeTitle.bind(Object(w.a)(Object(w.a)(a))),a.onChangeDescription=a.onChangeDescription.bind(Object(w.a)(Object(w.a)(a))),a.onChangePrice=a.onChangePrice.bind(Object(w.a)(Object(w.a)(a))),a.saveTutorial=a.saveTutorial.bind(Object(w.a)(Object(w.a)(a))),a.newTutorial=a.newTutorial.bind(Object(w.a)(Object(w.a)(a))),a.onChange=a.onChange.bind(Object(w.a)(Object(w.a)(a))),a.state={id:null,title:"",description:"",currency:"",price:null,published:!1,upload:[],submitted:!1,image:null,currencies:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({price:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value}),console.log(this.state)}},{key:"saveTutorial",value:function(){var e=new FormData;console.log(this.state.upload),console.log(this.state.upload.name),e.append("title",this.state.title),e.append("currency",this.state.currency),e.append("description",this.state.description),e.append("price",this.state.price),e.append("upload",this.state.upload,this.state.upload.name);var t="".length?"":"http://localhost:8000";P.a.post(t+"/api/oferty",e,{headers:{"content-type":"multipart/form-data"}}),this.setState({submitted:!0})}},{key:"componentDidMount",value:function(){var e=this;P.a.get("".length?"/currencies":"http://localhost:8081/currencies").then(function(t){var a=[];for(var n in t.data){var l={};l.value=t.data[n].toUpperCase(),l.label=t.data[n].toUpperCase(),a.push(l)}e.setState({currencies:a}),console.log(e.state.currencies)}),console.log(this.state.currencies)}},{key:"newTutorial",value:function(){this.setState({id:null,title:"",currency:"",description:"",price:null,published:!1,upload:null,image:null,submitted:!1,currencies:[]}),console.log(this.state.file)}},{key:"render",value:function(){return l.a.createElement("div",{class:"w-50 mx-auto"},l.a.createElement("div",{className:"submit-form"},l.a.createElement("h4",{class:"formTitle"},l.a.createElement("center",null,"Dodaj now\u0105 ofert\u0119")),this.state.submitted?l.a.createElement("div",null,l.a.createElement("h4",null,"You submitted successfully!"),l.a.createElement("button",{className:"btn btn-success",onClick:this.newTutorial},"Add")):l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},l.a.createElement("strong",null,"Title")),l.a.createElement("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.title,onChange:this.onChangeTitle,name:"title"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},l.a.createElement("strong",null,"Description")),l.a.createElement("textarea",{type:"text",className:"form-control",id:"description",rows:"10",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"price"},l.a.createElement("strong",null,"Price")),l.a.createElement("input",{type:"number",className:"form-control",id:"price",min:"0",step:"0.01",required:!0,value:this.state.price,onChange:this.onChangePrice,name:"price"})),l.a.createElement("div",{className:"form-group"},l.a.createElement(k.a,{options:this.state.currencies})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"float-right"},l.a.createElement(N,{onChange:this.onChange}),l.a.createElement("button",{onClick:this.saveTutorial,className:"btn btn-success"},"Zapisz")),l.a.createElement("div",{className:"float-left"},l.a.createElement("img",{className:"show",src:this.state.image,alt:"alt"}))))))}}]),t}(n.Component),A=a(42),L=new(function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,[{key:"getAll",value:function(){return x.get("/oferty")}},{key:"get",value:function(e){return x.get("/oferty/".concat(e,"/"))}},{key:"create",value:function(e){return x.post("/oferty",e)}},{key:"update",value:function(e,t){return x.put("/oferty/".concat(e,"/"),t)}},{key:"delete",value:function(e){return x.delete("/oferty/".concat(e))}},{key:"deleteAll",value:function(){return x.delete("/oferty")}},{key:"findByTitle",value:function(e){return x.get("/oferty/?search=".concat(e))}},{key:"getById",value:function(e){return x.get("/oferty/?search=".concat(e))}}]),e}()),F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e){var t=Array.from(e.target.files);console.log(t),a.setState({upload:t[0],image:URL.createObjectURL(e.target.files[0])})},a.onChangeTitle=a.onChangeTitle.bind(Object(w.a)(Object(w.a)(a))),a.onChangeDescription=a.onChangeDescription.bind(Object(w.a)(Object(w.a)(a))),a.onChangePrice=a.onChangePrice.bind(Object(w.a)(Object(w.a)(a))),a.getTutorial=a.getTutorial.bind(Object(w.a)(Object(w.a)(a))),a.updatePublished=a.updatePublished.bind(Object(w.a)(Object(w.a)(a))),a.updateTutorial=a.updateTutorial.bind(Object(w.a)(Object(w.a)(a))),a.deleteTutorial=a.deleteTutorial.bind(Object(w.a)(Object(w.a)(a))),a.onChange=a.onChange.bind(Object(w.a)(Object(w.a)(a))),a.state={currentTutorial:{id:null,title:"",description:"",price:null,published:!1,upload:[],image:null,currencies:[]},message:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getTutorial(this.props.match.params.id)}},{key:"onChangeTitle",value:function(e){var t=e.target.value;this.setState(function(e){return{currentTutorial:Object(A.a)({},e.currentTutorial,{title:t})}})}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState(function(e){return{currentTutorial:Object(A.a)({},e.currentTutorial,{description:t})}})}},{key:"onChangePrice",value:function(e){var t=e.target.value;this.setState(function(e){return{currentTutorial:Object(A.a)({},e.currentTutorial,{price:t})}})}},{key:"getTutorial",value:function(e){var t=this;L.get(e).then(function(e){t.setState({currentTutorial:e.data}),console.log(e.data)}).catch(function(e){console.log(e)})}},{key:"updatePublished",value:function(e){var t=this,a={published:e},n=new FormData;n.append("id",this.state.currentTutorial.id),n.append("title",this.state.currentTutorial.title),n.append("description",this.state.currentTutorial.description),n.append("price",this.state.currentTutorial.price),n.append("published",a.published),n.append("upload",this.state.upload,this.state.upload.name),L.update(this.state.currentTutorial.id,n).then(function(a){t.setState(function(t){return{currentTutorial:Object(A.a)({},t.currentTutorial,{published:e})}}),console.log(a.data)}).catch(function(e){console.log(e)})}},{key:"updateTutorial",value:function(){var e=this,t=new FormData;t.append("title",this.state.currentTutorial.title),t.append("description",this.state.currentTutorial.description),t.append("price",this.state.currentTutorial.price),this.state.upload&&t.append("upload",this.state.upload,this.state.upload.name),L.update(this.state.currentTutorial.id,t).then(function(t){console.log(t.data),e.setState({message:"The tutorial was updated successfully!"})}).catch(function(e){console.log(e)})}},{key:"deleteTutorial",value:function(){var e=this;L.delete(this.state.currentTutorial.id).then(function(t){console.log(t.data),e.props.history.push("/edytuj")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.currentTutorial;return l.a.createElement("div",{class:"w-50 mx-auto"},t?l.a.createElement("div",{className:"edit-form"},l.a.createElement("h4",{class:"formTitle"},l.a.createElement("center",null,"Edytuj produkt numer: ",t.id)),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},l.a.createElement("strong",null,"Title")),l.a.createElement("input",{type:"text",className:"form-control",id:"title",value:t.title,onChange:this.onChangeTitle})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},l.a.createElement("strong",null,"Description")),l.a.createElement("textarea",{type:"text",className:"form-control",id:"description",rows:"10",value:t.description,onChange:this.onChangeDescription})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"price"},l.a.createElement("strong",null,"Price")),l.a.createElement("input",{type:"number",className:"form-control",id:"price",min:"0",step:"0.01",value:t.price,onChange:this.onChangePrice})),l.a.createElement("div",{className:"form-group"},l.a.createElement(k.a,{options:this.state.currencies})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"zdjecie"},l.a.createElement("strong",null,"Zdjecie")),l.a.createElement(N,{onChange:this.onChange}),l.a.createElement("img",{alt:"alt",src:this.state.image}),e.state.image?l.a.createElement("img",{alt:"alt",src:e.state.image}):l.a.createElement("img",{alt:"alt",src:t.upload})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"Status: \xa0")),l.a.createElement("font",{color:"gray"},t.published?"Published":"Pending"))),t.published?l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.updatePublished(!1)}},"UnPublish"):l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.updatePublished(!0)}},"Publish"),"\xa0",l.a.createElement("button",{className:"btn btn-danger",onClick:this.deleteTutorial},"Delete"),"\xa0",l.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:this.updateTutorial},"Update"),l.a.createElement("p",null,this.state.message)):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please click on a Tutorial...")))}}]),t}(n.Component),I=a(40),U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).onChangeSearchTitle=a.onChangeSearchTitle.bind(Object(w.a)(Object(w.a)(a))),a.retrieveTutorials=a.retrieveTutorials.bind(Object(w.a)(Object(w.a)(a))),a.refreshList=a.refreshList.bind(Object(w.a)(Object(w.a)(a))),a.setActiveTutorial=a.setActiveTutorial.bind(Object(w.a)(Object(w.a)(a))),a.removeAllTutorials=a.removeAllTutorials.bind(Object(w.a)(Object(w.a)(a))),a.searchTitle=a.searchTitle.bind(Object(w.a)(Object(w.a)(a))),a.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchTitle:"",currencies:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.retrieveTutorials()}},{key:"onChangeSearchTitle",value:function(e){var t=e.target.value;this.setState({searchTitle:t})}},{key:"retrieveTutorials",value:function(){var e=this;L.getAll().then(function(t){e.setState({tutorials:t.data.reverse()}),console.log(t.data)}).catch(function(e){console.log(e)})}},{key:"refreshList",value:function(){this.retrieveTutorials(),this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(e,t){this.setState({currentTutorial:e,currentIndex:t})}},{key:"removeAllTutorials",value:function(){var e=this;L.deleteAll().then(function(t){console.log(t.data),e.refreshList()}).catch(function(e){console.log(e)})}},{key:"searchTitle",value:function(){var e=this;L.findByTitle(this.state.searchTitle).then(function(t){e.setState({tutorials:t.data.reverse()}),console.log(t.data)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.searchTitle,a=e.tutorials;return l.a.createElement("div",{class:"w-75 mx-auto"},l.a.createElement("div",{className:"list row"},l.a.createElement("div",{className:"wyszukiwarka"},l.a.createElement("div",{className:"input-group mb-3 shadow"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search by title",value:t,onChange:this.onChangeSearchTitle}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchTitle},"Search"))))),l.a.createElement("br",null),a.map(function(e){return l.a.createElement("div",{class:"element shadow mb-5"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-md-3 text-center"},e.upload.indexOf("".length?"":"http://localhost:8000")?l.a.createElement("img",Object(I.a)({alt:"alt",class:"show img-fluid",src:e.upload=""===t?"".length?"":"http://localhost:8000"+e.upload:e.upload},"alt",e.title)):l.a.createElement("img",Object(I.a)({alt:"alt",class:"show img-fluid",src:e.upload},"alt",e.title))),l.a.createElement("div",{class:"col-md-9 p-5"},l.a.createElement(f,{informacje:e}))))}))}}]),t}(n.Component);function M(){return l.a.createElement("div",{class:"login-panel"},l.a.createElement(v.a,{container:!0,style:{minHeight:"67vh"}}," ",l.a.createElement(v.a,{container:!0,item:!0,xs:12,sm:12,alignItems:"center",direction:"column",justify:"space-between",style:{padding:10}},l.a.createElement("div",null),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",maxWidth:360,minWidth:360}},l.a.createElement(v.a,{container:!0,justify:"center"},l.a.createElement("h2",null,"Panel Logowania")),l.a.createElement(y.a,{label:"Login",margin:"normal",InputProps:{startAdornment:l.a.createElement(j.a,null,l.a.createElement(O.a,null))}})," ",l.a.createElement(y.a,{label:"Has\u0142o",margin:"normal",InputProps:{startAdornment:l.a.createElement(j.a,null,l.a.createElement(C.a,null))}})," ",l.a.createElement("div",{style:{height:20}}),l.a.createElement(T.a,{variant:"contained",style:{margin:"auto",display:"flex",flexDirection:"column",maxWidth:240,minWidth:240}}," ","Zaloguj")),l.a.createElement("div",null))))}var R=function(){var e=l.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1];return l.a.createElement("div",{class:a?"dark-theme":"light-theme"},l.a.createElement(b,null),l.a.createElement("div",{class:"sep"},l.a.createElement(c.a,null,l.a.createElement("nav",{class:"menu shadow"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(c.b,{to:"/"},"Strona g\u0142\xf3wna")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/oferty"},"Lista ofert")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/dodaj"},"Dodaj ofert\u0119")),l.a.createElement("li",{id:"theme"},l.a.createElement(s.a,{variant:a?"light":"dark",onClick:function(){return n(function(e){return!e})}},a?"Light Mode":"Dark Mode")),l.a.createElement("li",{id:"theme"},l.a.createElement(k.a,null)))),l.a.createElement(E.c,null,l.a.createElement(E.a,{path:"/login"},l.a.createElement(M,null)),l.a.createElement(E.a,{path:"/oferty"},l.a.createElement(U,null)),l.a.createElement(E.a,{path:"/dodaj"},l.a.createElement(D,null)),l.a.createElement(E.a,{path:"/edytuj/:id",component:F}),l.a.createElement(E.a,{path:"/"})))),l.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(124),a(125),a(126);i.a.render(l.a.createElement(c.a,null,l.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},77:function(e,t,a){e.exports=a(127)}},[[77,1,2]]]);
//# sourceMappingURL=main.89443957.chunk.js.map