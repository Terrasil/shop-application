(this["webpackJsonpaplikacja-frontendowa"]=this["webpackJsonpaplikacja-frontendowa"]||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(9),s=n.n(c),r=n(34),l=n(22),o=n(162),u=n(13),d=n(10),h=n(18),j=n(26),b=n(2),p=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.title="Patryk Morawski 185IC A1 - Oferty"}},{key:"render",value:function(){return Object(b.jsx)("header",{class:"shadow",children:Object(b.jsx)("div",{class:"row",children:Object(b.jsxs)("div",{class:"name",children:[Object(b.jsx)("h1",{children:"OFERTY"}),Object(b.jsx)("h5",{children:"Internetowa tablica ogloszen"})]})})})}}]),n}(a.a.Component),O=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsx)("footer",{children:"Copyright \xa9 Patryk Morawski 2022"})}}]),n}(a.a.Component);a.a.Component,a.a.Component;function g(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{children:e.informacje.title}),Object(b.jsx)("span",{children:e.informacje.description}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:Object(b.jsxs)("b",{children:[e.informacje.price," ",e.informacje.currency]})})]})}var m=n(15),x=n(154),f=n(160),v=n(163),y=n(161),T=n(158),C=n(159),k=n(33),w=n(7),N=function(e){return Object(b.jsx)("div",{className:"py-4 buttons fadein",children:Object(b.jsxs)("div",{className:"button",children:[Object(b.jsx)("label",{htmlFor:"single"}),Object(b.jsx)("input",{type:"file",id:"single",onChange:e.onChange})]})})},S=n(38),P=n.n(S),D=P.a.create({baseURL:"http://127.0.0.1:8000/api",headers:{"content-type":"multipart/form-data"}}),A=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).onChange=function(e){console.log(i.state.file);var t=Array.from(e.target.files);i.setState({upload:t[0],image:URL.createObjectURL(e.target.files[0])})},i.onChangeTitle=i.onChangeTitle.bind(Object(w.a)(i)),i.onChangeDescription=i.onChangeDescription.bind(Object(w.a)(i)),i.onChangePrice=i.onChangePrice.bind(Object(w.a)(i)),i.saveTutorial=i.saveTutorial.bind(Object(w.a)(i)),i.newTutorial=i.newTutorial.bind(Object(w.a)(i)),i.onChange=i.onChange.bind(Object(w.a)(i)),i.getCurr=i.getCurr.bind(Object(w.a)(i)),i.onClickCurrencies=i.onClickCurrencies.bind(Object(w.a)(i)),i.state={id:null,title:"",description:"",currency:"",price:null,published:!1,upload:[],submitted:!1,image:null,currencies:[]},i}return Object(d.a)(n,[{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({price:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value}),console.log(this.state)}},{key:"onClickCurrencies",value:function(){var e=this.getCurr;console.log(e),this.setState({currencies:e}),console.log(this.state)}},{key:"saveTutorial",value:function(){var e=new FormData;console.log(this.state.upload),console.log(this.state.upload.name),e.append("title",this.state.title),e.append("currency",this.state.currency),e.append("description",this.state.description),e.append("price",this.state.price),e.append("upload",this.state.upload,this.state.upload.name);var t="".length?"":"http://localhost:8000";P.a.post(t+"/api/oferty",e,{headers:{"content-type":"multipart/form-data"}}),this.setState({submitted:!0})}},{key:"getCurr",value:function(){P.a.get(rocess.env.REACT_APP_EXCHANGE_SERVICE_ADDRESS.length?"/currencies":"http://localhost:8081/currencies").then((function(e){console.log(e.data),console.log(e.status),console.log(e.statusText),console.log(e.headers),console.log(e.config)}))}},{key:"newTutorial",value:function(){this.setState({id:null,title:"",currency:"",description:"",price:null,published:!1,upload:null,image:null,submitted:!1,currencies:[]}),console.log(this.state.file)}},{key:"render",value:function(){return this.getCurr,Object(b.jsx)("div",{class:"w-50 mx-auto",children:Object(b.jsxs)("div",{className:"submit-form",children:[Object(b.jsx)("h4",{class:"formTitle",children:Object(b.jsx)("center",{children:"Dodaj now\u0105 ofert\u0119"})}),this.state.submitted?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"You submitted successfully!"}),Object(b.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"title",children:Object(b.jsx)("strong",{children:"Title"})}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.title,onChange:this.onChangeTitle,name:"title"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description",children:Object(b.jsx)("strong",{children:"Description"})}),Object(b.jsx)("textarea",{type:"text",className:"form-control",id:"description",rows:"10",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"price",children:Object(b.jsx)("strong",{children:"Price"})}),Object(b.jsx)("input",{type:"number",className:"form-control",id:"price",min:"0",step:"0.01",required:!0,value:this.state.price,onChange:this.onChangePrice,name:"price"})]}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)(k.a,{onClick:this.onClickCurrencies,options:this.state.currencies})}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("div",{className:"float-right",children:[Object(b.jsx)(N,{onChange:this.onChange}),Object(b.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Zapisz"})]}),Object(b.jsx)("div",{className:"float-left",children:Object(b.jsx)("img",{className:"show",src:this.state.image,alt:"alt"})})]})]})]})})}}]),n}(i.Component),L=n(30),F=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"getAll",value:function(){return D.get("/oferty")}},{key:"get",value:function(e){return D.get("/oferty/".concat(e,"/"))}},{key:"create",value:function(e){return D.post("/oferty",e)}},{key:"update",value:function(e,t){return D.put("/oferty/".concat(e,"/"),t)}},{key:"delete",value:function(e){return D.delete("/oferty/".concat(e))}},{key:"deleteAll",value:function(){return D.delete("/oferty")}},{key:"findByTitle",value:function(e){return D.get("/oferty/?search=".concat(e))}},{key:"getById",value:function(e){return D.get("/oferty/?search=".concat(e))}}]),e}()),I=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).onChange=function(e){var t=Array.from(e.target.files);console.log(t),i.setState({upload:t[0],image:URL.createObjectURL(e.target.files[0])})},i.onChangeTitle=i.onChangeTitle.bind(Object(w.a)(i)),i.onChangeDescription=i.onChangeDescription.bind(Object(w.a)(i)),i.onChangePrice=i.onChangePrice.bind(Object(w.a)(i)),i.getTutorial=i.getTutorial.bind(Object(w.a)(i)),i.updatePublished=i.updatePublished.bind(Object(w.a)(i)),i.updateTutorial=i.updateTutorial.bind(Object(w.a)(i)),i.deleteTutorial=i.deleteTutorial.bind(Object(w.a)(i)),i.onChange=i.onChange.bind(Object(w.a)(i)),i.state={currentTutorial:{id:null,title:"",description:"",price:null,published:!1,upload:[],image:null,currencies:[]},message:""},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getTutorial(this.props.match.params.id)}},{key:"onChangeTitle",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTutorial:Object(L.a)(Object(L.a)({},e.currentTutorial),{},{title:t})}}))}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTutorial:Object(L.a)(Object(L.a)({},e.currentTutorial),{},{description:t})}}))}},{key:"onChangePrice",value:function(e){var t=e.target.value;this.setState((function(e){return{currentTutorial:Object(L.a)(Object(L.a)({},e.currentTutorial),{},{price:t})}}))}},{key:"getTutorial",value:function(e){var t=this;F.get(e).then((function(e){t.setState({currentTutorial:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updatePublished",value:function(e){var t=this,n={published:e},i=new FormData;i.append("id",this.state.currentTutorial.id),i.append("title",this.state.currentTutorial.title),i.append("description",this.state.currentTutorial.description),i.append("price",this.state.currentTutorial.price),i.append("published",n.published),i.append("upload",this.state.upload,this.state.upload.name),F.update(this.state.currentTutorial.id,i).then((function(n){t.setState((function(t){return{currentTutorial:Object(L.a)(Object(L.a)({},t.currentTutorial),{},{published:e})}})),console.log(n.data)})).catch((function(e){console.log(e)}))}},{key:"updateTutorial",value:function(){var e=this,t=new FormData;t.append("title",this.state.currentTutorial.title),t.append("description",this.state.currentTutorial.description),t.append("price",this.state.currentTutorial.price),this.state.upload&&t.append("upload",this.state.upload,this.state.upload.name),F.update(this.state.currentTutorial.id,t).then((function(t){console.log(t.data),e.setState({message:"The tutorial was updated successfully!"})})).catch((function(e){console.log(e)}))}},{key:"deleteTutorial",value:function(){var e=this;F.delete(this.state.currentTutorial.id).then((function(t){console.log(t.data),e.props.history.push("/edytuj")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.currentTutorial;return Object(b.jsx)("div",{class:"w-50 mx-auto",children:t?Object(b.jsxs)("div",{className:"edit-form",children:[Object(b.jsx)("h4",{class:"formTitle",children:Object(b.jsxs)("center",{children:["Edytuj produkt numer: ",t.id]})}),Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"title",children:Object(b.jsx)("strong",{children:"Title"})}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"title",value:t.title,onChange:this.onChangeTitle})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description",children:Object(b.jsx)("strong",{children:"Description"})}),Object(b.jsx)("textarea",{type:"text",className:"form-control",id:"description",rows:"10",value:t.description,onChange:this.onChangeDescription})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"price",children:Object(b.jsx)("strong",{children:"Price"})}),Object(b.jsx)("input",{type:"number",className:"form-control",id:"price",min:"0",step:"0.01",value:t.price,onChange:this.onChangePrice})]}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)(k.a,{options:this.state.currencies})}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"zdjecie",children:Object(b.jsx)("strong",{children:"Zdjecie"})}),Object(b.jsx)(N,{onChange:this.onChange}),Object(b.jsx)("img",{alt:"alt",src:this.state.image}),e.state.image?Object(b.jsx)("img",{alt:"alt",src:e.state.image}):Object(b.jsx)("img",{alt:"alt",src:t.upload})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:Object(b.jsx)("strong",{children:"Status: \xa0"})}),Object(b.jsx)("font",{color:"gray",children:t.published?"Published":"Pending"})]})]}),t.published?Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.updatePublished(!1)},children:"UnPublish"}):Object(b.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.updatePublished(!0)},children:"Publish"}),"\xa0",Object(b.jsx)("button",{className:"btn btn-danger",onClick:this.deleteTutorial,children:"Delete"}),"\xa0",Object(b.jsx)("button",{type:"submit",className:"btn btn-success",onClick:this.updateTutorial,children:"Update"}),Object(b.jsx)("p",{children:this.state.message})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:"Please click on a Tutorial..."})]})})}}]),n}(i.Component),E=n(14),R=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).onChangeSearchTitle=i.onChangeSearchTitle.bind(Object(w.a)(i)),i.retrieveTutorials=i.retrieveTutorials.bind(Object(w.a)(i)),i.refreshList=i.refreshList.bind(Object(w.a)(i)),i.setActiveTutorial=i.setActiveTutorial.bind(Object(w.a)(i)),i.removeAllTutorials=i.removeAllTutorials.bind(Object(w.a)(i)),i.searchTitle=i.searchTitle.bind(Object(w.a)(i)),i.state={tutorials:[],currentTutorial:null,currentIndex:-1,searchTitle:"",currencies:[]},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.retrieveTutorials()}},{key:"onChangeSearchTitle",value:function(e){var t=e.target.value;this.setState({searchTitle:t})}},{key:"retrieveTutorials",value:function(){var e=this;F.getAll().then((function(t){e.setState({tutorials:t.data.reverse()}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveTutorials(),this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(e,t){this.setState({currentTutorial:e,currentIndex:t})}},{key:"removeAllTutorials",value:function(){var e=this;F.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchTitle",value:function(){var e=this;F.findByTitle(this.state.searchTitle).then((function(t){e.setState({tutorials:t.data.reverse()}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.searchTitle,n=e.tutorials;return Object(b.jsxs)("div",{class:"w-75 mx-auto",children:[Object(b.jsx)("div",{className:"list row",children:Object(b.jsx)("div",{className:"wyszukiwarka",children:Object(b.jsxs)("div",{className:"input-group mb-3 shadow",children:[Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:t,onChange:this.onChangeSearchTitle}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchTitle,children:"Search"})})]})})}),Object(b.jsx)("br",{}),n.map((function(e){return Object(b.jsx)("div",{class:"element shadow mb-5",children:Object(b.jsxs)("div",{class:"row",children:[Object(b.jsx)("div",{class:"col-md-3 text-center",children:e.upload.indexOf("".length?"":"http://localhost:8000")?Object(b.jsx)("img",Object(E.a)({alt:"alt",class:"show img-fluid",src:e.upload=""===t?"".length?"":"http://localhost:8000"+e.upload:e.upload},"alt",e.title)):Object(b.jsx)("img",Object(E.a)({alt:"alt",class:"show img-fluid",src:e.upload},"alt",e.title))}),Object(b.jsx)("div",{class:"col-md-9 p-5",children:Object(b.jsx)(g,{informacje:e})})]})})}))]})}}]),n}(i.Component);function M(){return Object(b.jsx)("div",{class:"login-panel",children:Object(b.jsxs)(x.a,{container:!0,style:{minHeight:"67vh"},children:[" ",Object(b.jsxs)(x.a,{container:!0,item:!0,xs:12,sm:12,alignItems:"center",direction:"column",justify:"space-between",style:{padding:10},children:[Object(b.jsx)("div",{}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxWidth:360,minWidth:360},children:[Object(b.jsx)(x.a,{container:!0,justify:"center",children:Object(b.jsx)("h2",{children:"Panel Logowania"})}),Object(b.jsx)(f.a,{label:"Login",margin:"normal",InputProps:{startAdornment:Object(b.jsx)(v.a,{children:Object(b.jsx)(T.a,{})})}})," ",Object(b.jsx)(f.a,{label:"Has\u0142o",margin:"normal",InputProps:{startAdornment:Object(b.jsx)(v.a,{children:Object(b.jsx)(C.a,{})})}})," ",Object(b.jsx)("div",{style:{height:20}}),Object(b.jsxs)(y.a,{variant:"contained",style:{margin:"auto",display:"flex",flexDirection:"column",maxWidth:240,minWidth:240},children:[" ","Zaloguj"]})]}),Object(b.jsx)("div",{})]})]})})}var U=function(){var e=a.a.useState(!1),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(b.jsxs)("div",{class:n?"dark-theme":"light-theme",children:[Object(b.jsx)(p,{}),Object(b.jsx)("div",{class:"sep",children:Object(b.jsxs)(r.a,{children:[Object(b.jsx)("nav",{class:"menu shadow",children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/",children:"Strona g\u0142\xf3wna"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/oferty",children:"Lista ofert"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/dodaj",children:"Dodaj ofert\u0119"})}),Object(b.jsx)("li",{id:"theme",children:Object(b.jsx)(o.a,{variant:n?"light":"dark",onClick:function(){return i((function(e){return!e}))},children:n?"Light Mode":"Dark Mode"})}),Object(b.jsx)("li",{id:"theme",children:Object(b.jsx)(k.a,{})})]})}),Object(b.jsxs)(m.c,{children:[Object(b.jsx)(m.a,{path:"/login",children:Object(b.jsx)(M,{})}),Object(b.jsx)(m.a,{path:"/oferty",children:Object(b.jsx)(R,{})}),Object(b.jsx)(m.a,{path:"/dodaj",children:Object(b.jsx)(A,{})}),Object(b.jsx)(m.a,{path:"/edytuj/:id",component:I}),Object(b.jsx)(m.a,{path:"/"})]})]})}),Object(b.jsx)(O,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(119),n(120),n(121);s.a.render(Object(b.jsx)(r.a,{children:Object(b.jsx)(U,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[122,1,2]]]);
//# sourceMappingURL=main.a09bfbf6.chunk.js.map